\section{Integration Strategy}
This section explains the integration strategy selected to integrate all the software elements of \myTaxiService{}.

\subsection{Entry Criteria}
%TODO Specify the criteria that must be met before integration testing of specific elements may begin (e.g., functions must have been unit tested).
Before starting the integration testing of any software component that has been designed for \myTaxiService{} system, the internal functions of the considered component (i.e. public or protected methods that are exposed within the package of the component but are not part of any external public interface) must be unit tested using \textbf{JUnit} framework.

\subsection{Elements to be Integrated}
%TODO Identify the components to be integrated, refer to your design document to identify such components in a way that is consistent with your design
Every software component in the Component View section of the Design Document has to be integrated.
The interested components are reported below for readers' convenience:
\begin{itemize}
	\item Passenger View
	\begin{itemize}
		\item PS Application View
		\item PS Web View
		\item PS Request Creator
		\item PS Receiver
	\end{itemize}
	\item Taxi Driver View
	\begin{itemize}
		\item TD Application View
		\item TD Request Creator
		\item TD Receiver
		\item TD Locator
		\item GPS Data Source
	\end{itemize}
	\item Administrator View
	\item Controller
	\begin{itemize}
		\item RESTful Service
		\item Dispatcher
		\item Location Manager
		\item Session Manager
		\item Profile Manager
		\item Taxi Driver Manager
		\item Taxi Ride Manager
		\item Queue Manager
		\item Taxi Sharing Manager
		\item Query Manager
	\end{itemize}
	\item Model
	\begin{itemize}
		\item Model Query Service
		\item Passenger DB Adapter
		\item Taxi Ride DB Adapter
		\item Zone DB Adapter
		\item Queue DB Adapter
		\item Database Driver Adapter
	\end{itemize}
\end{itemize}
Moreover we suppose that Google Maps API are well tested by Google, the GPS Data Source module is already tested, and that \myTaxiService{} Taxi Sharing API will be tested in a separate environment using \textbf{JUnit} after the whole procedure indicated in this document has been completed.

\subsection{Integration Testing Strategy}
%TODO Describe the integration testing approach (top-down, bottom-up, functional groupings, etc.) and the rationale for the choosing that approach
The bottom-up integration testing approach has been chosen, because for a medium sized project like \myTaxiService{}, it is best to proceed step by step in a careful yet coherent integration strategy.
The usage of the selected approach will smelt a robust application with efforts concentrated in testing the \textbf{Server} parts before all.
Therefore, a more stable and faster application will be distributed, instead of a maybe nicer one.

\subsection{Sequence of Component/Function Integration}
%TODO Note: The structure of this section may vary depending on the integration strategy you select in Section 2.3. Use the structure proposed below as a non mandatory guide.

\begin{center}
	\begin{tikzpicture}[node distance=2cm, auto]
		% Place nodes
		\node [block] (datbase_driver_adapter) {Database Driver Adapter};
		\node [block, right of=datbase_driver_adapter, node distance=5cm] (taxi_driver_db_adapter) {Taxi Driver DB Adapter};
		\node [block, above of=taxi_driver_db_adapter] (taxi_ride_db_adapter) {Taxi Ride DB Adapter};
		\node [block, above of=taxi_ride_db_adapter] (passenger_db_adapter) {Passenger DB Adapter};
		\node [block, below of=taxi_driver_db_adapter] (zone_db_adapter) {Zone DB Adapter};
		\node [block, below of=zone_db_adapter] (queue_db_adapter) {Queue DB Adapter};
		\node [block, right of=taxi_driver_db_adapter, node distance=5cm] (model_query_service) {Model Query Service};
		% Draw edges
		\path [line] (datbase_driver_adapter) -- (taxi_driver_db_adapter);
		\path [line] (datbase_driver_adapter) |- (taxi_ride_db_adapter);
		\path [line] (datbase_driver_adapter) |- (passenger_db_adapter);
		\path [line] (datbase_driver_adapter) |- (zone_db_adapter);
		\path [line] (datbase_driver_adapter) |- (queue_db_adapter);
		\path [line] (taxi_driver_db_adapter) -- (model_query_service);
		\path [line] (taxi_ride_db_adapter) -| (model_query_service);
		\path [line] (passenger_db_adapter) -| (model_query_service);
		\path [line] (zone_db_adapter) -| (model_query_service);
		\path [line] (queue_db_adapter) -| (model_query_service);
	\end{tikzpicture}
	\captionof{figure}{Software Integration Sequence Diagram - Model}
\end{center}

\begin{center}
	\begin{tikzpicture}[node distance=2cm, auto]
		% Place nodes
		\node [block] (query_manager) {Query Manager};
		
		\node [block, below of=query_manager] (taxi_sharing_manager) {Taxi Sharing Manager};
		\node [block, left of=taxi_sharing_manager, node distance=3.5cm] (profile_manager) {Profile Manager};
		\node [block, left of=profile_manager, node distance=3.5cm] (session_manager) {Session Manager};
		\node [block, right of=taxi_sharing_manager, node distance=3.5cm] (location_manager) {Location Manager};
		
		\node [block, above of=location_manager, fill=red!20] (taxi_driver_view_stub) {TD View Stub};
		
		\node [block, below of=location_manager] (taxi_ride_manager) {Taxi Ride Manager};
		\node [block, below of=taxi_sharing_manager] (queue_manager) {Queue Manager};
		
		\node [block, left of=queue_manager, fill=red!20, node distance=3.5cm] (dispatcher_stub) {Dispatcher Stub};
		
		\node [block, below of=queue_manager] (taxi_driver_manager) {Taxi Driver Manager};
	%	\node [block, below of=taxi_driver_manager] (restful_service) {RESTful Service};
		% Draw edges
		\path [line] (query_manager) -- (taxi_sharing_manager);
		\path [line] (query_manager) -- (profile_manager);
		\path [line] (query_manager) -- (session_manager);
		\path [line] (query_manager) -- (location_manager);
		\path [line] (taxi_driver_view_stub) -- (location_manager);
		\path [line] (location_manager) -- (queue_manager);
		\path [line] (dispatcher_stub) -- (queue_manager);
		\path [line] (dispatcher_stub) -- (taxi_driver_manager);
		\path [line] (location_manager) -- (taxi_ride_manager);
		\path [line] (queue_manager) -- (taxi_driver_manager);
		%\path [line] (taxi_driver_manager) -- (restful_service);
	\end{tikzpicture}
	\captionof{figure}{Software Integration Sequence Diagram - Controller Business Components}
\end{center}
Once completed the above testing then:
\begin{center}
	\begin{tikzpicture}[node distance=2cm, auto]
	% Place nodes	
	\node [block] (session_manager) {Session Manager};
	\node [block, above of=session_manager] (profile_manager) {Profile Manager};
	\node [block, below of=session_manager] (taxi_ride_manager) {Taxi Ride Manager};
	\node [block, below of=taxi_ride_manager] (taxi_driver_manager) {Taxi Driver Manager};
	\node [block, right of=session_manager, node distance=4cm] (restful_service) {RESTful Service};
	% Draw edges
	\path [line] (taxi_driver_manager) -| (restful_service);
	\path [line] (taxi_ride_manager) -| (restful_service);
	\path [line] (session_manager) -- (restful_service);
	\path [line] (profile_manager) -| (restful_service);
	\end{tikzpicture}
	\captionof{figure}{Software Integration Sequence Diagram - RESTful Service}
\end{center}
The the two views before the Dispatcher.
\begin{center}
	\begin{tikzpicture}[node distance=2.5cm, auto]
	% Place nodes	
	\node [block] (psreq) {PS Request Creator};
	\node [block, right of=psreq, above of=psreq] (psw) {PS Web View};
	\node [block, right of=psreq, below of=psreq] (papp) {PS Application View};
	\node [block, below of=psw, right of=psw] (psr) {PS Receiver};
	% Draw edges
	\path [line] (psreq) |- (psw);
	\path [line] (psreq) |- (papp);
	\path [line] (psw) -| (psr);
	\path [line] (papp) -| (psr);
	\end{tikzpicture}
	\captionof{figure}{Software Integration Sequence Diagram - PS View}
\end{center}

\begin{center}
	\begin{tikzpicture}[node distance=4.5cm, auto]
	% Place nodes	
	\node [block] (treq) {TD Request Creator};
	\node [block, right of=treq] (tapp) {TD Application View};
	\node [block, right of=tapp] (tr) {TD Receiver};
	\node [block, below of=treq, node distance=2cm] (tl) {TD Locator};
	% Draw edges
	\path [line] (treq) -- (tapp);
	\path [line] (tapp) -- (tr);
	\end{tikzpicture}
	\captionof{figure}{Software Integration Sequence Diagram - TD View}
\end{center}

\begin{center}
	\begin{tikzpicture}[node distance=3cm, auto]
	% Place nodes	
	\node [block] (pr) {PS Receiver};
	\node [block, below of=pr] (tr) {TD Receiver};
	\node [block, right of=pr] (dp) {Dispatcher};
	% Draw edges
	\path [line] (pr) -- (dp);
	\path [line] (tr) -- (dp);
	\end{tikzpicture}
	\captionof{figure}{Software Integration Sequence Diagram - Dispatcher}
\end{center}

\subsubsection{Software Integration Sequence}
%TODO For each subsystem: Identify the sequence in which the software components will be integrated within the subsystem. Relate this sequence to any product features/functions that are being built up
We adopted a \textbf{bottom-up} testing strategy; this strategy starts from the testing of the \textbf{Model}'s features.\par

\begin{center}
	\begin{tikzpicture}[node distance=3cm, auto]
		% Place nodes
		\node [block] (model) {Model};
		\node [block, right of=model] (controller) {Controller};
		\node [block, right of=controller] (passenger_view) {Passenger View};
		\node [block, right of=controller, above of=controller] (taxi_driver_view) {Taxi Driver View};
		\node [block, right of=controller, below of=controller] (administrator_view) {Administrator View};
		% Draw edges
		\path [line] (model) -- (controller);
		\path [line] (controller) -- (passenger_view);
		\path [line] (controller) |- (taxi_driver_view);
		\path [line] (controller) |- (administrator_view);
	\end{tikzpicture}
	\captionof{figure}{Software Integration Sequence Diagram}
\end{center}

We considered \textbf{Model}, \textbf{Controller} and \textbf{Views} as \textbf{Components Subsystems}.
Firstly the \textit{tester} has to singularly test the component' \textit{sub-features} contained in the \textbf{Model Subsystem}, then, in order to simulate the behaviour of the \textbf{Interacting Software Parts}, he has to represent the \textbf{Controller Component} with a dedicated \textbf{Driver} in order to globally test the \textbf{Model}' features that have to be tested.\par In this way, the model will be completely tested and its behaviour is shown by simulating all the \textbf{Controller}'s possible actions.\par
Then the testing procedure passes through the \textbf{Controller Component} and the test sequence adopts the same strategy used to test the \textbf{Model}. The only difference, watching the procedure from a high point of view, is that in this case the \textbf{Controller} is tested using the already tested \textbf{Model} and using a \textbf{Driver} in order to simulate the \textbf{Views} actions.
The last part of the procedure is the one dedicated to the \textbf{View}. These Components(\textbf{TD View, PS View, Administrator View}) are tested using the already tested components (\textbf{Controller and the Model}) and no one component' behaviour is simulated using \textbf{Subs} or \textbf{Drivers}.

\subsubsection{Subsystem Integration Sequence}
%TODO Identify the order in which subsystems will be integrated. If you have a single subsystem, 2.4.1 and 2.4.2 are to be merged in a single section. You can refer to Section 2.2 of the test plan example [1] as an example of what we expect.
%prima model con controller poi integriamo le due view



