\documentclass{../common/latex_classes/pdf_presentation}

\newcommand{\itemBold}[1]{\item\textbf{#1:}}
\newcommand{\showGeneralDiagram}[2]{\showPercentImage{./section_2/general_diagram_dd.png}{#1}{#2}}
\newcommand{\showComponentDiagram}[2]{\showPercentImage{./section_2/component_diagram/component_diagram.png}{#1}{#2}}
\newcommand{\showDeploymentDiagram}[2]{\showPercentImage{./section_2/deployment_diagram/deployment_diagram.png}{#1}{#2}}
\newcommand{\showSequenceDiagram}[3]{\showPercentImage{./section_2/sequence_diagrams/#1_sequence_diagram.png}{#2}{#3}}
\newcommand{\showRPMockupImage}[2]{\showImage{../srs/section_3/mockups/png_passenger/#1.png}{#2}}
\newcommand{\showTDMockupImage}[2]{\showPercentImage{../srs/section_3/mockups/png_driver/#1.png}{#2}{0.3}}
\newcommand{\showAdminMockupImage}[2]{\showPercentImage{./section_4/mockups/administrator_mockups/#1.png}{#2}{0.95}}

\title{DD Presentation}

\subject{A brief presentation of myTaxiService DD}
% This is only inserted into the PDF information catalog. Can be left
% out. 

% Let's get started
\begin{document}
	\titleToc{}
	\section{Architectural Design}
	
	\subsection{Overview}
	
	\begin{frame}{Overview Diagram}
		\showGeneralDiagram{Overview Diagram}{1.0}
	\end{frame}
	
	\subsection{High level components and their interaction}
	
	\begin{frame}{High level components and their interaction}
		The system has many distributed components: those will communicate with a \textbf{Client-Server} style and through \textbf{Point to Point} messaging system. 
		\begin{itemize}
			\item The \textbf{Client-Server} style is used in order to receive different requests (e.g. a Taxi Reservation request) from the many Clients connected to the Server to use the service. 
			
			\item The \textbf{Point to Point} bidirectional communication channel is made necessary to enable the Server the delivery of various messages and requests to the Clients:
			\begin{itemize}
				\item Generic notifications
				\item Service messages
				\item The request of serving a Taxi Ride
				\item The request of an updating GPS Data.
			\end{itemize}
		\end{itemize}
	\end{frame}
	
	\begin{frame}{Layers}
		The software architecture that has been chosen follows the principles of the Model View Controller architectural pattern. 
		
		Therefore three main software components have been identified and those are:
		\begin{itemize}
			\item The Model
			\item The View 
			\item The Controller.
		\end{itemize}
		
		\textbf{Model}, \textbf{View} and \textbf{Controller} are then mapped to three different relevant software Layers:
	\end{frame}
	
	\begin{frame}{Layers - View}
		The role of this Layer is the one of processing remote \textbf{Clients} commands, and convert them into requests addressed to the \textbf{Controller} layer, that is connected to the \textbf{View} through a communication facility (e.g. The Internet).
		There exists four different types of View, each one designed specifically for the particular Client:
		\begin{itemize}
			\item Passenger Web View
			\item Passenger Application View
			\item Taxi Driver Application View
			\item Administrator View
		\end{itemize}
	\end{frame}
	
	\begin{frame}{Layers - Controller}
		This second Layer is composed itself of two families of components with specialized functionalities:
		\begin{itemize}
			\item \textbf{Networking Components Family:}
			\begin{itemize}
				\item Groups the software components that are involved in sending messages to the various Views, following the logic implements in the Business Components Family. 
				\item Dispatches to the various business components.
			\end{itemize}
			\item \textbf{Business Components Family:} In this family are included all the software components that implement the system logic.
			Their role is:
			\begin{itemize}
				\item Processing requests 
				\item Generating either responses or asynchronous events.
			\end{itemize}
		\end{itemize}
	\end{frame}
	
	\begin{frame}{Layers - Model}
		The third and last Layer is the \textbf{Model}: it should:
		\begin{itemize}
			\item Guarantee a high level interface to store and manage all the \myTaxiService{} relevant data. 
			\item It abstracts a \textbf{Relational Database} in a software component that is in direct connection with the \textbf{Controller}.
		\end{itemize}
	\end{frame}
	
	\begin{frame}{Tiers}
		The system is divided in \textbf{four} different Tiers:
		\begin{itemize}
			\item \textbf{Clients:} The distributed clients of the application.
			\item \textbf{Web Server:} A server that is in charge of dynamically generate web pages and of receiving requests through the web.
			\item \textbf{Application Server:} This is the most important Tier of the system. Here are done all the logics and calculations that constitute the core part of \myTaxiService{}.
			\item \textbf{Database Server:} In this Tier it is hosted the Database that allows the service data persistence.
		\end{itemize}
	\end{frame}
	
	\subsection{Component View}
	
	\begin{frame}{Component View}
		Several components has been designed to provide all the functionalities needed for \myTaxiService{} to work.
		Five mayor subsystems have been found:
		\begin{itemize}
			\item Passenger View, Taxi Driver View, Taxi Driver Model
			\item Controller
			\item Model
		\end{itemize}
	\end{frame}
	
	
	\begin{frame}{Component View - Diagram}
		This diagram maps system features into different software components, and show how these components are divided in different subsystems.
		\showComponentDiagram{UML Component Diagram}{0.475}
	\end{frame}
	
	\subsection{Deployment View}
		
	\begin{frame}{Deployment View}
		The best way found to deploy the software components identified into different machines, is to consider 7 (8 if considering the Google Server contacted to use Google Maps API) different nodes:
		\begin{itemize}
			\item Passenger Web Browser, Passenger Smartphone, Taxi Driver Smartphone, Administrator Workstation
			\item Web Server
			\item Application Server
			\item Database Server
		\end{itemize}
	\end{frame}		
		
	\begin{frame}{Deployment View - Diagram}
		The following diagram shows how software components are mapped into the physical system.
		%TODO Collegamento GOOGLE SERVER <-> LOCATION MANAGER andrebbe reso un collegamento GOOGLE SERVER <-> WEB SERVER, per coerenza con quanto deciso di fare, cioè di avere solo il web server collegato ad internet
		\showDeploymentDiagram{UML Deployment Diagram}{0.625}
	\end{frame}
	
	\subsection{Runtime View}
		
	\begin{frame}{Runtime View}
		In this subsection are proposed the most meaningful \textbf{UML Sequence Diagrams} to show how software components interacts in order to deliver a specific functionality.
		These functionalities are:
		\begin{itemize}
			\item Taxi Driver Registration (done by an Administrator)
			\item Passenger Login
			\item Handling of a new Taxi Ride (2 diagrams)
			%TODO Il diagramma è mega complesso. Mettiamo o glissiamo?
			\item Update of Taxi Drivers' positions
		\end{itemize}
	\end{frame}
	
	\begin{frame}{Taxi Driver Registration}
		\showSequenceDiagram{admin_td_reg}{UML Sequence Diagram}{0.7}
	\end{frame}
	
	\begin{frame}{Passenger Login}
		\showSequenceDiagram{ps_login}{UML Sequence Diagram}{0.7}
	\end{frame}
	
	\begin{frame}{Handling of a new Taxi Ride - 1/2}
		\showSequenceDiagram{taxi_ride_arrived_handling}{UML Sequence Diagram}{0.2}
	\end{frame}
	
	\begin{frame}{Handling of a new Taxi Ride - 2/2}
		\showSequenceDiagram{tr_timer_expired}{UML Sequence Diagram}{0.8}
	\end{frame}
	
	\begin{frame}{Update of Taxi Drivers' positions}
		\showSequenceDiagram{td_position_association}{UML Sequence Diagram}{0.2}
	\end{frame}
	
	\subsection{Component Interfaces}
		
	\begin{frame}{Component Interfaces}
		Being our system composed of different software components that need to interact together, several interfaces have been put among them. 
	\end{frame}
	
	\subsection{Selected architectural styles and patterns}
	
	\begin{frame}{Selected architectural styles and patterns}
	\end{frame}
	
	\subsection{Other design decisions}
		
	\begin{frame}{Other design decisions}
	\end{frame}
	
	\section{Algorithm Design}
	
	\subsection{Taxi Rides Serving Management}
	
	\begin{frame}{Taxi Rides Serving Management}
	\end{frame}
	
	\subsection{Geolocation}
	
	\begin{frame}{Geolocation}
	\end{frame}
	
	\section{User Interface Design}
	
	\subsection{Passenger Mockups}
	
	\begin{frame}{Passenger Mockups}
	\end{frame}
	
	\subsection{Taxi Driver Mockups}
	
	\begin{frame}{Taxi Driver Mockups}
	\end{frame}
	
	\subsection{Administrator Mockups}
	
	\begin{frame}{Administrator Mockups}
	\end{frame}
	
\end{document}